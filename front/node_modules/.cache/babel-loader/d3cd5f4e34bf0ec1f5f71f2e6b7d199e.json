{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Johnnie\\\\Desktop\\\\couponproject\\\\couponproject\\\\src\\\\App\\\\Components\\\\Users\\\\Company\\\\CompanyCoupons\\\\CompanyCoupons.js\",\n    _s = $RefreshSig$();\n\nimport './company-coupons.css';\nimport CompanyCouponsSidebar from './Sidebar/CompanyCouponsSidebar';\nimport AutenticationService from \"../../../../../service/AutenticationService\";\nimport { useState, useEffect } from 'react';\nimport CompanyService from '../../../../../service/CompanyService';\nimport { Formik, Form } from 'formik';\nimport { Route, Switch } from 'react-router';\nimport AddCoupon from \"./AddCoupon/AddCoupon\";\nimport UpdateCoupon from './UpdateCoupon/UpdateCoupon';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function CompanyCoupons() {\n  _s();\n\n  const [coupons, setCoupons] = useState([{\n    id: '',\n    category: '',\n    title: '',\n    description: '',\n    startDate: '',\n    endDate: '',\n    amount: '',\n    price: '',\n    image: ''\n  }]);\n  const [updateCoupon, setUpdateCoupon] = useState({\n    id: '',\n    category: '',\n    title: '',\n    description: '',\n    startDate: '',\n    endDate: '',\n    amount: '',\n    price: '',\n    image: ''\n  });\n  useEffect(() => {\n    CompanyService.getCompanyCoupons().then(response => {\n      setCoupons(response.data);\n    }, error => {\n      try {\n        if (error.response.data.string) {\n          return;\n        }\n\n        if (error.response) {\n          alert(\"Login expired, please login again.\");\n          AutenticationService.logOut();\n        }\n      } catch {\n        alert(\"Servers are down, please try again later.\");\n        AutenticationService.logOut();\n      }\n    });\n  }, []);\n\n  const getCoupons = handleChange => {\n    if (coupons[0].id === '') return;\n    return coupons.map((interval, index) => {\n      return /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"CompanyCoupons-td\",\n          title: \"checked\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handleChange,\n            type: \"checkbox\",\n            name: \"checked\",\n            value: interval.id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 63\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"CompanyCoupons-td\",\n          title: interval.category,\n          children: interval.category\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"CompanyCoupons-td\",\n          title: interval.title,\n          children: interval.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"CompanyCoupons-td\",\n          title: interval.description,\n          children: interval.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"CompanyCoupons-td\",\n          title: interval.startDate,\n          children: interval.startDate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"CompanyCoupons-td\",\n          title: interval.endDate,\n          children: interval.endDate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"CompanyCoupons-td\",\n          title: interval.amount,\n          children: interval.amount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"CompanyCoupons-td\",\n          title: interval.price,\n          children: interval.price\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"CompanyPurchase-td\",\n          title: interval.image,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"CompanyCoupons-image-td\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"CompanyCoupons-image-div\",\n              style: {\n                backgroundImage: \"url(\" + interval.image + \")\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this);\n    });\n  };\n\n  function addCoupon() {\n    return /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/company/my-coupons/add-coupon\",\n        children: /*#__PURE__*/_jsxDEV(AddCoupon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/company/my-coupons/update-coupon\",\n        children: /*#__PURE__*/_jsxDEV(UpdateCoupon, {\n          updateCoupon: updateCoupon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/company/my-coupons\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"CompanyCoupons\",\n          children: /*#__PURE__*/_jsxDEV(Formik, {\n            initialValues: {\n              checked: []\n            },\n            children: ({\n              handleChange,\n              values,\n              handleReset\n            }) => /*#__PURE__*/_jsxDEV(Form, {\n              children: [/*#__PURE__*/_jsxDEV(CompanyCouponsSidebar, {\n                setCoupons: setCoupons,\n                values: values,\n                handleReset: handleReset,\n                setUpdateCoupon: setUpdateCoupon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"table\",\n                id: \"CompanyCoupons-table\",\n                children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      width: \"10%\",\n                      className: \"CustomerPurchase-table-th\",\n                      title: \"Select\",\n                      children: \"Select\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 110,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      width: \"10%\",\n                      className: \"CompanyCoupons-table-th\",\n                      title: \"Category\",\n                      children: \"Category\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 111,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      width: \"11%\",\n                      className: \"CompanyCoupons-table-th\",\n                      title: \"Title\",\n                      children: \"Title\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 112,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      width: \"11%\",\n                      className: \"CompanyCoupons-table-th\",\n                      title: \"Description\",\n                      children: \"Description\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 113,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      width: \"13%\",\n                      className: \"CompanyCoupons-table-th\",\n                      title: \"Release Date\",\n                      children: \"Release Date\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 114,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      width: \"13%\",\n                      className: \"CompanyCoupons-table-th\",\n                      title: \"Expiration Date\",\n                      children: \"Expiration Date\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 115,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      width: \"10%\",\n                      className: \"CompanyCoupons-table-th\",\n                      title: \"Stock\",\n                      children: \"Stock\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 116,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      width: \"10%\",\n                      className: \"CompanyCoupons-table-th\",\n                      title: \"Price\",\n                      children: \"Price\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 117,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      width: \"12%\",\n                      className: \"CompanyCoupons-table-th\",\n                      title: \"Image\",\n                      children: \"Image\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 118,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 109,\n                    columnNumber: 23\n                  }, this), getCoupons(handleChange)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: addCoupon()\n  }, void 0, false);\n}\n\n_s(CompanyCoupons, \"NcJLrwvE/FktzmuDls25qgvLHKM=\");\n\n_c = CompanyCoupons;\n\nvar _c;\n\n$RefreshReg$(_c, \"CompanyCoupons\");","map":{"version":3,"sources":["C:/Users/Johnnie/Desktop/couponproject/couponproject/src/App/Components/Users/Company/CompanyCoupons/CompanyCoupons.js"],"names":["CompanyCouponsSidebar","AutenticationService","useState","useEffect","CompanyService","Formik","Form","Route","Switch","AddCoupon","UpdateCoupon","CompanyCoupons","coupons","setCoupons","id","category","title","description","startDate","endDate","amount","price","image","updateCoupon","setUpdateCoupon","getCompanyCoupons","then","response","data","error","string","alert","logOut","getCoupons","handleChange","map","interval","index","backgroundImage","addCoupon","checked","values","handleReset"],"mappings":"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","sourcesContent":["\nimport './company-coupons.css';\nimport CompanyCouponsSidebar from './Sidebar/CompanyCouponsSidebar';\nimport AutenticationService from \"../../../../../service/AutenticationService\";\nimport { useState, useEffect } from 'react';\nimport CompanyService from '../../../../../service/CompanyService';\nimport { Formik, Form } from 'formik'\nimport { Route, Switch } from 'react-router';\nimport AddCoupon from \"./AddCoupon/AddCoupon\";\nimport UpdateCoupon from './UpdateCoupon/UpdateCoupon';\n\n\nexport default function CompanyCoupons() {\n\n  const [coupons, setCoupons] = useState([{\n    id: '',\n    category: '',\n    title: '',\n    description: '',\n    startDate: '',\n    endDate: '',\n    amount: '',\n    price: '',\n    image: '',\n  }])\n\n  const [updateCoupon, setUpdateCoupon] = useState({\n    id: '',\n    category: '',\n    title: '',\n    description: '',\n    startDate: '',\n    endDate: '',\n    amount: '',\n    price: '',\n    image: '',\n  })\n\n  useEffect(() => {\n\n    CompanyService.getCompanyCoupons().then(\n      response => {\n        setCoupons(response.data);\n      },\n      (error) => {\n        try {\n          if (error.response.data.string) {\n            return;\n          }\n          if (error.response) {\n            alert(\"Login expired, please login again.\");\n            AutenticationService.logOut();\n          }\n        } catch {\n          alert(\"Servers are down, please try again later.\");\n          AutenticationService.logOut();\n        }\n      }\n    )\n  }, [])\n\n  const getCoupons = (handleChange) => {\n    if (coupons[0].id === '')\n      return\n    return (\n      coupons.map((interval, index) => {\n        return (\n          <tr key={index}>\n            <td className=\"CompanyCoupons-td\" title=\"checked\"><input onChange={handleChange} type=\"checkbox\" name=\"checked\" value={interval.id} /></td>\n            <td className=\"CompanyCoupons-td\" title={interval.category}>{interval.category}</td>\n            <td className=\"CompanyCoupons-td\" title={interval.title}>{interval.title}</td>\n            <td className=\"CompanyCoupons-td\" title={interval.description}>{interval.description}</td>\n            <td className=\"CompanyCoupons-td\" title={interval.startDate}>{interval.startDate}</td>\n            <td className=\"CompanyCoupons-td\" title={interval.endDate}>{interval.endDate}</td>\n            <td className=\"CompanyCoupons-td\" title={interval.amount}>{interval.amount}</td>\n            <td className=\"CompanyCoupons-td\" title={interval.price}>{interval.price}</td>\n            <td className=\"CompanyPurchase-td\" title={interval.image}>\n              <div id=\"CompanyCoupons-image-td\">\n                <div className=\"CompanyCoupons-image-div\" style={{ backgroundImage: \"url(\" + interval.image + \")\" }}>\n                </div>\n              </div>\n            </td>\n          </tr>\n        )\n      })\n    )\n  }\n\n  function addCoupon() {\n\n    return (\n      <Switch>\n        <Route path=\"/company/my-coupons/add-coupon\">\n          <AddCoupon />\n        </Route><Route path=\"/company/my-coupons/update-coupon\">\n          <UpdateCoupon updateCoupon={updateCoupon} />\n        </Route>\n        <Route path=\"/company/my-coupons\">\n          <div className=\"CompanyCoupons\">\n            <Formik\n              initialValues={{ checked: [] }}\n            >\n              {({ handleChange, values, handleReset }) => (\n                <Form >\n\n                  <CompanyCouponsSidebar setCoupons={setCoupons} values={values} handleReset={handleReset} setUpdateCoupon={setUpdateCoupon} />\n                  <table className=\"table\" id=\"CompanyCoupons-table\">\n                    <tbody>\n                      <tr>\n                        <th width=\"10%\" className=\"CustomerPurchase-table-th\" title=\"Select\">Select</th>\n                        <th width=\"10%\" className=\"CompanyCoupons-table-th\" title=\"Category\">Category</th>\n                        <th width=\"11%\" className=\"CompanyCoupons-table-th\" title=\"Title\">Title</th>\n                        <th width=\"11%\" className=\"CompanyCoupons-table-th\" title=\"Description\">Description</th>\n                        <th width=\"13%\" className=\"CompanyCoupons-table-th\" title=\"Release Date\">Release Date</th>\n                        <th width=\"13%\" className=\"CompanyCoupons-table-th\" title=\"Expiration Date\">Expiration Date</th>\n                        <th width=\"10%\" className=\"CompanyCoupons-table-th\" title=\"Stock\">Stock</th>\n                        <th width=\"10%\" className=\"CompanyCoupons-table-th\" title=\"Price\">Price</th>\n                        <th width=\"12%\" className=\"CompanyCoupons-table-th\" title=\"Image\">Image</th>\n                      </tr>\n                      {getCoupons(handleChange)}\n                    </tbody>\n                  </table>\n                </Form>\n              )}\n            </Formik >\n\n\n          </div>\n        </Route>\n      </Switch>\n    )\n  }\n\n  return (\n\n    <>\n      {addCoupon()}\n    </>\n\n  )\n}"]},"metadata":{},"sourceType":"module"}